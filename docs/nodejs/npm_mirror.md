---
title: npm镜像
createTime: 2025/03/15 19:58:32
permalink: /article/unh3a5ug/
tags:
  - Nodejs
  - NPM
  - 镜像
---

> http://npm.taobao.org和 http://registry.npm.taobao.org 将在 2022.06.30 号正式下线和停止 DNS 解析。
> 新域名为 npmmirror.com, 相关服务域名切换规则请参考：

> 网站： [https://npm.taobao.org](http://npm.taobao.org) => [https://npmmirror.com](http://npmmirror.com)
>
> 仓库地址：[https://registry.npm.taobao.org](http://registry.npm.taobao.org) => [https://registry.npmmirror.com](http://registry.npmmirror.com)
>

## 淘宝镜像
```bash
https://registry.npmmirror.com
```

## yarn设置
```bash
yarn config set registry https://registry.npmmirror.com
```

```bash
yarn config get registry
```

## npm设置
```bash
npm config set registry https://registry.npmmirror.com
```

```bash
npm config get registry
```

```bash
registry=https://registry.npmmirror.com/
msvs_version=2022
prefix=E:\nodejs\node_global
cache=E:\nodejs\node_cache
node_gyp=E:\nodejs\node_global\node_modules\node-gyp\bin\node-gyp.js
python=E:\python\python.exe
```

### npmrc配置
```bash
registry=https://registry.npmmirror.com/
msvs_version=2022
prefix=E:\nodejs\node_global
cache=E:\nodejs\node_cache
node_gyp=E:\nodejs\node_global\node_modules\node-gyp\bin\node-gyp.js
python=E:\python\python.exe
```

## 安装yarn
```bash
npm install -g yarn --registry=https://registry.npmmirror.com
```

### yarnrc
```bash
# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
# yarn lockfile v1


registry "https://registry.npm.taobao.org"
cache-folder "E:\\Yarn\\cache"
disturl "https://npm.taobao.org/dist"
global-folder "E:\\Yarn\\data\\global\\node_module"
"https://registry.npmmirror.com" true
lastUpdateCheck 1695693054673
sass-binary-site "http://npm.taobao.org/mirrors/node-sass"
sass_binary_site "https://npm.taobao.org/mirrors/node-sass/"
strict-ssl false
```

## npm官方默认镜像
```bash
npm config set registry https://registry.npmjs.org
```

```bash
yarn config set registry https://registry.npmjs.org
```

## 安装pnpm
[**pnpm**](https://www.pnpm.cn/)**安装**

```bash
npm i -g pnpm
```

**设置环境变量**

> 变量名：`PNPM_HOME`
>
> 变量值：`E:/.pnpm-store`
>

![](https://cdn.nlark.com/yuque/0/2023/png/25907639/1695616001961-c5559118-53c7-461f-9a4f-055de2ba195d.png)

**在系统变量的**`Path`**变量新建环境变量。内容是：**`%PNPM_HOME%`**；与刚才新建的变量名一致。**

**配置依赖路径**： 把`E:\.pnpm-store`替换成PNP全局安装的路径  

```bash
pnpm config set global-bin-dir "E:\.pnpm-store"
pnpm config set cache-dir "E:\.pnpm-store\cache"
pnpm config set state-dir "E:\.pnpm-store\state"
pnpm config set global-dir "E:\.pnpm-store\global"
```

> `pnpm c list`命令可以查看配置 。
>

![](https://cdn.nlark.com/yuque/0/2023/png/25907639/1695616254148-7da413e1-42da-4504-a704-095f85987320.png)

## npm 镜像站
[npmmirror](https://npmmirror.com/)

站点简介

>  这是一个完整 [npmjs.com](https://www.npmjs.com) 镜像，你可以用此代替官方版本(只读)，我们将尽量与官方服务**实时同步**。  
我们的前后端应用代码均已开源，前端应用为 [cnpmweb](https://github.com/cnpm/cnpmweb)，服务端应用为 [cnpmcore](https://github.com/cnpm/cnpmcore) 欢迎共建。  
>

## mac nvm 只有 iojs
检查代理后发现是镜像原因，访问不到根源`registry.npmjs.org`。

```bash
export NVM_NODEJS_ORG_MIRROR=http://npm.taobao.org/dist
```

> 测试`export NVM_NODEJS_ORG_MIRROR=[http://npm.taobao.org/dist](http://npm.taobao.org/dist)`好像不行
>